<html>
<head><title>.eunit/mochifmt_records.COVER.html</title></head><body bgcolor=white text=black>
<pre>
File generated from /Users/seb/Documents/part2project/app/deps/mochiweb/.eunit/mochifmt_records.erl by COVER 2010-10-28 at 14:19:48

****************************************************************************

        |  %% @author Bob Ippolito &lt;bob@mochimedia.com&gt;
        |  %% @copyright 2008 Mochi Media, Inc.
        |  
        |  %% @doc Formatter that understands records.
        |  %%
        |  %% Usage:
        |  %%
        |  %%    1&gt; M = mochifmt_records:new([{rec, record_info(fields, rec)}]),
        |  %%    M:format("{0.bar}", [#rec{bar=foo}]).
        |  %%    foo
        |  
        |  -module(mochifmt_records, [Recs]).
        |  -author('bob@mochimedia.com').
        |  -export([get_value/2]).
        |  
        |  get_value(Key, Rec) when is_tuple(Rec) and is_atom(element(1, Rec)) -&gt;
     7..|      try begin
     7..|              Atom = list_to_existing_atom(Key),
     7..|              {_, Fields} = proplists:lookup(element(1, Rec), Recs),
     7..|              element(get_rec_index(Atom, Fields, 2), Rec)
        |          end
<font color=red>     0..|      catch error:_ -&gt; mochifmt:get_value(Key, Rec)</font>
        |      end;
        |  get_value(Key, Args) -&gt;
     2..|      mochifmt:get_value(Key, Args).
        |  
        |  get_rec_index(Atom, [Atom | _], Index) -&gt;
     7..|      Index;
        |  get_rec_index(Atom, [_ | Rest], Index) -&gt;
     8..|      get_rec_index(Atom, Rest, 1 + Index).
        |  
        |  
        |  %%
        |  %% Tests
        |  %%
        |  -include_lib("eunit/include/eunit.hrl").
        |  -ifdef(TEST).
        |  -endif.
</pre>
</body>
</html>
